<template>
  <div id="detail">
    <detailNavBar class="detail-nav" />
    <Scroll class="scroll-content" ref="scroll">
      <detailSwiper :topImages="topImages" />
      <detailBaseInfo :goods="goods" />
      <detailShopInfo :shop="shop" />
      <detailGoodsInfo :detailInfo="detailInfo" @imgLoad="imgLoad" />
      <detailParamInfo :paramInfo="paramInfo" />
    </Scroll>
  </div>
</template>

<script>
//Êï∞ÊçÆÁöÑ
const topImages = [
  "https://s11.mogucdn.com/mlcdn/c45406/190729_0l0228189805b58i45056ckihc917_1000x1500.jpg_468x468.jpg",
  "https://s5.mogucdn.com/mlcdn/c45406/190807_682kbcl4917hah9ehjef06b073489_640x960.jpg_468x468.jpg",
  "https://s5.mogucdn.com/mlcdn/c45406/190320_35ggb3f6i4k36l1hf5bgefh6e468i_640x960.jpg_468x468.jpg",
  "https://s5.mogucdn.com/mlcdn/c45406/190806_5kj89cck1fj2efb76iad4eb7a2g4d_1000x1500.jpg_468x468.jpg"
];
//ÂïÜÂìÅ‰ø°ÊÅØÊùøÂùóÊï∞ÊçÆ
const itemInfo = {
  title: "„ÄêÊò•Ëå∂È¢ÑÂîÆ„ÄëÁ´πÂè∂ÈùíËå∂Âè∂2020Êñ∞Ëå∂Â≥®ÁúâÈ´òÂ±±ÁªøËå∂ÁâπÁ∫ß(ÂìÅÂë≥)Á§ºÁõí60g",
  desc: "2020Âπ¥Êò•Ëå∂‰∏äÂ∏ÇÔºåÊä¢È≤úÈ¢ÑÂîÆ‰∏≠",
  price: "¬•1024",
  oldPrice: "¬•2024",
  disCountDesc: "Ê¥ªÂä®‰ª∑"
};
const columns = ["ÈîÄÈáè 1580", "Êî∂Ëóè33‰∫∫", "ÈÄÄË¥ßË°•Â∑Æ‰ª∑"];
const services = [
  {
    icon:
      "https://s11.mogucdn.com/mlcdn/c45406/180417_25kbfg1c3hdbd120394ji4b11bk2k_36x36.png",
    name: "7Â§©Êó†ÁêÜÁî±"
  },
  {
    icon:
      "https://s11.mogucdn.com/mlcdn/c45406/180417_25kbfg1c3hdbd120394ji4b11bk2k_36x36.png",
    name: "72Â∞èÊó∂ÂèëË¥ß"
  },
  {
    icon:
      "https://s11.mogucdn.com/mlcdn/c45406/180417_25kbfg1c3hdbd120394ji4b11bk2k_36x36.png",
    name: "ÂÖ®ÂõΩÂåÖÈÇÆ"
  }
];
const shopInfos = {
  fans: 17145,
  cGoods: 99,
  shopLogo:
    "https://s5.mogucdn.com/b7/avatar/131114/h3po3_kqywmq3imjbgercugfjeg5sckzsew_200x200.jpg_100x100.jpg",
  name: "Ëä±Ê†ëÊûú",
  cSells: 57876,
  score: [
    { isBetter: false, name: "ÊèèËø∞Áõ∏Á¨¶", score: 4.64 },
    { isBetter: true, name: "‰ª∑Ê†ºÂêàÁêÜ", score: 5.12 },
    { isBetter: false, name: "Ë¥®ÈáèÊª°ÊÑè", score: 4.64 }
  ]
};
const info = {
  anchor: "product_info",
  key: "ÂïÜÂìÅÂèÇÊï∞",
  set: [
    { key: "ÂõæÊ°à", value: "ÂÆ´Âª∑Â§çÂè§/ÂêçÊóèÂ§çÂè§ÂõæÔºåÂ≠óÊØç/ÊñáÂ≠ó" },
    { key: "ÂéÇÂêç", value: "ËâæÁ±≥ÊúçÈ•∞ÊúâÈôêÂÖ¨Âè∏" },
    { key: "È¢úËâ≤", value: "ÈªëÁôΩÊãºÊé•" },
    { key: "Ë¢ñÂûã", value: "Â∏∏ËßÑË¢ñ" },
    { key: "‰∏äË°£ÂéöÂ∫¶", value: "ÈÄÇ‰∏≠" },
    { key: "Â∞∫Á†Å", value: "xs,s,l,xl,xxl" },
    { key: "Ë°£Èïø", value: "Â∏∏ËßÑÊ¨æÔºà51-65cmÔºâ" },
    { key: "ÁâàÂûã", value: "ÂÆΩÊùæ" },
    { key: "Â≠£ËäÇ", value: "Êò•Áßã" },
    { key: "ÊùêË¥®", value: "Ê£â" },
    { key: "ÂéÇÂùÄ", value: "Âπø‰∏úÁúÅÊè≠Èò≥Â∏ÇÊôÆÊûóÂ∏Ç" },
    { key: "È¢ÜÂûã", value: "ÂúÜÈ¢Ü" },
    { key: "ÂÖÉÁ¥†", value: "Èù¢ÊñôÊãºÊé•ÔºåÂπ≥ÁßÄ" },
    { key: "Ë¢ñÈïø", value: "ÈïøË¢ñ" },
    { key: "È£éÊ†º", value: "ÂÖÉÂÆø" },
    { key: "ÊΩÆÊµÅ", value: "Èü©Á≥ª" }
  ]
};
const rule = {
  anchor: "size_info",
  disclaimer:
    "üåü‰∏äÈù¢ÁöÑÂ∞∫ÂØ∏‰∏∫‰∫∫Â∑•ÊµãÈáèÔºåÂõ†ÊµãÈáèÊñπÂºèÁöÑ‰∏çÂêå‰ºöÊúâ1-3cmÁöÑËØØÂ∑ÆÔºåÁõ∏ÂÖ≥Êï∞ÊçÆ‰ªÖ‰æõÂèÇËÄÉÔºå‰ª•Êî∂Âà∞ÁöÑÂÆûÁâ©‰∏∫ÂáÜ‚ú®",
  tables: [
    ["Â∞∫Á†Å", "s", "m", "l", "xl"],
    ["ËÉ∏Âõ¥", "100", "104", "108", "112"],
    ["Ë¢ñÈïø", "61", "62", "63", "64"],
    ["Ë£§Èïø", "96", "97", "98", "99"],
    ["ËÇ©ÂÆΩ", "36", "37", "38", "39"],
    ["Ë°£Èïø", "54", "55", "56", "57"]
  ]
};
import { getDetailData, Goods, Shop, GoodsParam } from "@/network/detail.js";
import {
  detailNavBar,
  detailSwiper,
  detailBaseInfo,
  detailShopInfo,
  detailGoodsInfo,
  detailParamInfo
} from "./childCmp/index";
import Scroll from "@/components/common/scroll";
export default {
  name: "detail",
  components: {
    detailNavBar,
    detailSwiper,
    detailBaseInfo,
    detailShopInfo,
    detailGoodsInfo,
    detailParamInfo,
    Scroll
  },
  props: {},
  data() {
    return {
      iid: null,
      //È°∂ÈÉ®ËΩÆÊí≠ÂõæÁöÑÊï∞ÊçÆ
      topImages,
      goods: {},
      shop: {},
      detailInfo: {},
      paramInfo: {}
    };
  },
  created() {
    //ijw0sr2
    //‰øùÂ≠òÂïÜÂìÅid
    this.iid = this.$route.params.iid;
    //Ê†πÊçÆÂïÜÂìÅidËé∑ÂèñÂïÜÂìÅÁöÑ‰ø°ÊÅØ
    getDetailData("ijw0sr2").then(res => {
      console.log(res);
      //Ëé∑ÂèñÈ°∂ÈÉ®ÁöÑÂõæÁâáÁöÑËΩÆÊí≠Âõæ Â∑≤ÂÅö
      // console.log(this.topImages);4
      this.goods = new Goods(itemInfo, columns, services);
      this.shop = new Shop(shopInfos);
      this.detailInfo = {
        desc: "Êñ∞Ê¨æ‰∏äÂ∏Ç",
        key: "Á©øÁùÄÊïàÊûú",
        list: [
          "https://gjusp.alicdn.com/img/img1583208621327-996.jpg@1000y-0ic_100Q.jpg_Q75.jpg_.webp",
          "https://img.alicdn.com/imgextra/i4/356060330/O1CN01fsp8mo1EJBHolH5LV_!!356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i1/356060330/O1CN018mn9Mo1EJBHwvgOHJ_!!356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i2/356060330/O1CN01qrpoI01EJBHpCoDZF-356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i3/356060330/O1CN013HSeNE1EJBHnV3abn-356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i4/356060330/O1CN01FQpEKR1EJBHrvug8N_!!356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i3/356060330/O1CN018UceCc1EJBHnAJp1m-356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i2/356060330/O1CN01XVo3lt1EJBHrbABJ6-356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i4/356060330/O1CN0186PEWk1EJBHpYHLWG_!!356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i4/356060330/O1CN01l80DqV1EJBHp0JHX9-356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i3/356060330/O1CN01v2dx961EJBHn0T2d6-356060330.jpg_2200x2200Q90s50.jpg_.webp",
          "https://img.alicdn.com/imgextra/i3/356060330/O1CN01fzZn1A1EJBHpzbV62-356060330.jpg_2200x2200Q90s50.jpg_.webp"
        ]
      };
      this.paramInfo = new GoodsParam(info, rule);
    });
  },
  mounted() {},
  update() {},
  beforeRouteUpdate() {},
  methods: {
    imgLoad() {
      this.$refs.scroll.refresh();
    }
  },
  computed: {},
  watch: {}
};
</script>

<style lang="less" scoped>
#detail {
  position: relative;
  z-index: 11;
  background-color: #fff;
  height: 100vh;
  .scroll-content {
    height: calc(100% - 44px);
  }
  .detail-nav {
    position: relative;
    z-index: 12;
    background-color: #fff;
  }
}
</style>
